# Requirements for Rio Webapp Only (32-bit Raspberry Pi)
# For careful updates - install in virtual environment
# Hardware packages (spidev, RPi.GPIO, picamera) should be system-wide

# Web framework (upgrades from existing versions)
Flask>=2.0.0,<4.0.0
Flask-SocketIO>=5.4.0,<6.0.0  # Upgraded from 4.3.2 - tested and working
Werkzeug>=2.0.0,<4.0.0
Jinja2>=3.0.0
MarkupSafe>=2.0.0
itsdangerous>=2.0.0
gevent>=23.0.0,<25.0.0
gevent-websocket>=0.10.1

# WebSocket support (compatible with Socket.IO client v2/v3/v4)
# Upgraded versions compatible with Flask-SocketIO 5.4+
python-socketio>=5.14.0
python-engineio>=4.9.0  # Upgraded from 3.13.2 - Version 4.x required for python-socketio 5.x

# Eventlet for async support (required for Flask-SocketIO)
eventlet>=0.33.0,<1.0.0

# Image processing (for droplet detection - NEW)
# Use headless version for Raspberry Pi (faster installation, pre-built wheels available)
opencv-python-headless>=4.5.0,<5.0.0

# Configuration file support (NEW)
PyYAML>=6.0

# Note: The following packages should already be installed system-wide:
# - eventlet>=0.33.0 (you have 0.33.3 ✓)
# - numpy>=1.19.0,<2.0.0 (you have 1.19.5 ✓)
# - Pillow>=9.0.0 (you have 9.4.0 ✓)
# - spidev==3.6 (you have 3.6 ✓)
# - RPi.GPIO==0.7.1 (you have 0.7.1 ✓)
# - picamera==1.13 (you have 1.13 ✓)

# Install with:
# python3 -m venv venv-rio
# source venv-rio/bin/activate
# pip install -r requirements-webapp-only-32bit.txt
